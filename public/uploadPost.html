<head>
  <link rel = "stylesheet" href = "App.css">
</head>

<header className="SiteName">
  <h1>StyleWish</h1>
  <div class="header">
      <a href="dashboard.html"  id="navigate">Dashboard</a>   
   </div>
</header>

<body>
  <div className="upload_post">
    <h2 id = "uploadLabel">Upload Post Page</h2>
    <fieldset>
      <form action="/uploadPost" method="POST" enctype="multipart/form-data">
        <h4 id = "userGreet" name = "userGreet">Hello </h4>
        <label id = "post_img">Upload Post Image*</label>
        
        <input
          type="file"
          name="file"
          id="postfile"
          accept="image/*"
          placeholder="Enter Upload File"
        />
        
        <img src = " " id="post_prev" />
        
        <script>
          let postPic = document.getElementById("post_prev");
          let chosenPic = document.getElementById("postfile");
          
          function previewSelectedImage() 
          {
            const chosenFile = chosenPic.files[0];
            if (chosenFile) 
            {
              const reader = new FileReader();
              reader.readAsDataURL(chosenFile);
              reader.onload = function(e) 
              {
                postPic.src = e.target.result;
              }
            }
          } 
          chosenPic.addEventListener('change', previewSelectedImage);
        </script>
        
        <input
          className='input-control'
          type="text"
          name="post_title"
          id="post_title"
          placeholder="Enter Post Title"
          required
        />
        
        <textarea
          className='input-control'
          name="post_description"
          id="post_description"
          cols="30"
          rows="20"
          placeholder="Add what you are looking for, the occasion, the budget, and other details."
          required
        ></textarea>
        
        <button
          type="upload"
          value="Upload"
          id = "upload"
        >Upload</button>

        <script>

              fetch('currentUser.json')
              .then(res => res.json())
              .then(data => {
                document.getElementById("userGreet").innerText = "Hello " + data.username;
            
              })
   
        </script>
      
      </form>
    </fieldset>
  </div>
</body>
